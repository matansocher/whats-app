<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
        <script src="https://www.gstatic.com/firebasejs/4.13.0/firebase.js"></script>
    <script>


      function solution(A) {
        var maxValues = 100; // given
        if(A.length === 0) {
          return 0;
        }

        var bucketArray = []; // array to count each index appearences
        var counter = 0; // counts how many prefix permutations
        for (let i = 0; i < A.length; i++) { // run over array to check each P candidate
          bucketArray = initializeEmptyArray(maxValues);
          for (let j = 0; j <= i; j++) {
            bucketArray[A[j]] = 1; // mark that A[j] exists
          }
          if(checkIFPrefixPermutation(bucketArray, (i + 1))) {
              counter++;
          }
        } 
        return counter;
      }

      // checks if index p is prefix permutation
      function checkIFPrefixPermutation(bucketArray, p) {
        for (let i = 1; i <= p; i++) {
          if(bucketArray[i] !== 1) {
            return false;
          }
        }
        return true;
      }

      // initializing empty array with maxValues(100 + 1) indexes containing 0 (ignoring 0 for comfort)
      function initializeEmptyArray(maxValues) {
        var emptyArray = [];
        for (let i = 0; i <= maxValues; i++) {
          emptyArray[i] = 0;
        }
        return emptyArray;
      }
      
      var testArray = [2,1,3,5,4];
      var solutionn = solution(testArray);
      console.log(solutionn);
    </script>
</body>
</html>